<ion-view view-title="Chats">
  <ion-nav-buttons side="right" class="bar-positive">
    <button class="button button-clear button-icon button-positive icon ion-ios-compose-outline" ng-click="openNewChat()"></button>
  </ion-nav-buttons>

  <ion-content>
    <ion-list ng-if="activities">
      <ion-item>
        <button class="button button-small button-block icon-left ion-ios-search" ng-click="openSearch()" style="margin: 0">
          Search for people and groups
        </button>
      </ion-item>

      <span ng-repeat="room in activities">
        <ion-item class="item-remove-animate item-avatar" nav-direction="forward" href="#/tab/chats/{{room.id}}" type="item-text-wrap">
          <img ng-src="{{room.face}}">

          <span class="badge avatar-badge avatar-badge-s" ng-class="{'badge-positive':room.roomType=='ms_friend', 'badge-stable':room.roomType=='fb_friend'}" ng-if="room.roomType!='group'">
            <i class="icon ion-ios-bolt" ng-if="room.roomType=='ms_friend'"></i>
            <i class="icon ion-social-facebook light" ng-if="room.roomType=='fb_friend'"></i>
          </span>

          <h3>
            <small>{{room.name}}</small>
          </h3>

          <p>{{room.latest_chat}}</p>

          <span class="item-note">{{room.activeTime}}</span>

          <ion-option-button class="button-assertive" ng-click="remove(room)">
            Delete
          </ion-option-button>

        </ion-item>
      </span>
    </ion-list>

    <!--show when there is no activity-->
    <div ng-if="!activities">
      <div style="height: 60px"></div>
      <div class="text-center" style="padding: 45px">
        <h2 class="grey">
          Recent
        </h2>

        <div style="height: 10px"></div>
        <h4 class="grey">Once you start chatting, all your messages will be here.</h4>

        <div style="height: 20px"></div>
        <button class="button button-outline" ng-click="openNewChat()">New Message</button>
      </div>
    </div>
  </ion-content>
</ion-view>
